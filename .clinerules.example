# Development Server Rules (the-dev-server MCP)

## ğŸ¯ MANDATORY: Server State Management

### ALWAYS FIRST STEP
When I ask about the server, IMMEDIATELY:
1. Call: `the-dev-server` MCP â†’ `get-server-state()`
2. If state is unknown/old/empty: Call `detect-server-process()`

### WHEN I SAY...

**"Is the server running?"**
â†’ Call `get-server-state()` and report port, status, project location

**"Start the server"** or **"Stop the server"**
â†’ After executing, call `update-server-state()` with new status

**"What port is it on?"**
â†’ Call `get-server-state()` - NEVER guess

**"Server not working"** or **"Server errors"**
â†’ Use `diagnose-server` prompt for systematic debugging

**"Check the logs"**
â†’ Call `read-server-logs()` to read recent log lines

**"What's running?"**
â†’ Call `detect-server-process()` to scan all common ports

### NEVER DO THIS
- âŒ Assume port numbers (always query MCP)
- âŒ Guess if server is running (always check state)
- âŒ Forget to update state after starting/stopping
- âŒ Skip checking state before answering server questions

### ALWAYS DO THIS
- âœ… Query `get-server-state()` first
- âœ… Update state when I tell you about changes
- âœ… Use `detect-server-process()` when uncertain
- âœ… Trust the MCP as the single source of truth

---

## ğŸ“‹ Project-Specific Info

**Project Name:** [Auto-detected by MCP]  
**Typical Port:** [Auto-detected by MCP]  
**Server Tech:** [Auto-detected by MCP]  
**Build Command:** [Your command, e.g., `npm run build`]  
**Start Command:** [Your command, e.g., `npm run dev`]  
**Log Location:** [Your logs path, if any]

---

## ğŸš€ Quick Reference

```
User: "Is it running?"
You:  1. get-server-state()
      2. Report findings

User: "Start it"
You:  1. Execute start command
      2. update-server-state({status: "running", port: X})

User: "It's broken"
You:  1. diagnose-server prompt
      2. read-server-logs()
```

---

**Remember: This MCP exists to eliminate server confusion. Use it religiously!**
